function gd_claim_ajax_lightbox(b,a,c,d){if(geodir_claim_params.aui){gd_claim_ajax_lightbox_aui(b,a,c,d);return}b&&(a&&""!=a||(a=geodir_params.basic_nonce),$content='<div class="geodir-claim-lity-content"><i class="fas fa-sync fa-spin fa-fw"></i></div>',$lightbox="",jQuery.ajax({url:geodir_params.ajax_url,type:"POST",data:{action:b,security:a,p:c,extra:d},beforeSend:function(){$lightbox=lity($content)},success:function(a){jQuery(".geodir-claim-lity-content").addClass("lity-show").html(a)}}))}function gd_claim_ajax_lightbox_aui(b,a,c,d){b&&(a&&""!=a||(a=geodir_params.basic_nonce),geodir_claim_params.addPopup&&geodir_claim_params.addPopup.remove(),geodir_claim_params.loader=aui_modal(),jQuery.ajax({url:geodir_params.ajax_url,type:"POST",data:{action:b,security:a,p:c,extra:d},success:function(a){geodir_claim_params.addPopup=aui_modal("",a,"","","","")}}))}jQuery(function($){geodir_claim_params.loader=null,geodir_claim_params.addPopup=null,$(document).on("submit","form.geodir-post-claim-form",function(b){b.preventDefault();var a=$(this),d=a.find(".geodir-post-claim-button"),e=a.find(".geodir-claim-form-fields");if(!a.find(".g-recaptcha-response").length||""!=a.find(".g-recaptcha-response").val()){var c=a.serialize();return jQuery.ajax({url:geodir_params.ajax_url,type:"POST",data:c,dataType:"json",beforeSend:function(){d.prop("disabled",!0).html(geodir_claim_params.text_sending),e.css({opacity:.6})},success:function(b,c,f){d.prop("disabled",!1).html(geodir_claim_params.text_send),e.css({opacity:1}),"object"==typeof b?b.data.message&&(geodir_claim_params.aui?e.html(b.data.message):(b.success?(type="success",message='<i class="fas fa-check-circle" aria-hidden="true"></i>'):(type="error",message='<i class="fas fa-exclamation-triangle" aria-hidden="true"></i>'),message+=" "+b.data.message,e.html('<div class="geodir-claim-message geodir-claim-msg-'+type+'">'+message+"</div>"))):e.html(b),a.find(".geodir-claim-form-footer").remove()},error:function(b,c,a){console.log(a),d.prop("disabled",!1).html(geodir_claim_params.text_send),e.css({opacity:1})}}),b.preventDefault(),!1}})})